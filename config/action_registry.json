{
  "$schema": "./action_registry.schema.json",
  "actions": [
    {
      "id": "doctor",
      "label": "Run Doctor",
      "timeout_sec": 180,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/openclaw_doctor.sh"
    },
    {
      "id": "apply",
      "label": "Apply OpenClaw",
      "timeout_sec": 600,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/openclaw_apply_remote.sh"
    },
    {
      "id": "port_audit",
      "label": "Show Port Audit",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/show_port_audit.sh",
      "aliases": [
        "ports"
      ]
    },
    {
      "id": "tail_guard_log",
      "label": "Guard Logs",
      "timeout_sec": 30,
      "cmd_template": "journalctl -u openclaw-guard.service -n 200 --no-pager",
      "aliases": [
        "journal"
      ]
    },
    {
      "id": "timer",
      "label": "Guard Timer Status",
      "timeout_sec": 10,
      "cmd_template": "systemctl status openclaw-guard.timer --no-pager"
    },
    {
      "id": "guard",
      "label": "Install/Repair Guard",
      "timeout_sec": 30,
      "cmd_template": "cd ${ROOT_DIR} && sudo ./ops/openclaw_install_guard.sh"
    },
    {
      "id": "llm_doctor",
      "label": "LLM Provider Doctor",
      "timeout_sec": 30,
      "cmd_template": "cd ${ROOT_DIR} && python3 -m src.llm.doctor"
    },
    {
      "id": "deploy_and_verify",
      "label": "Deploy+Verify",
      "timeout_sec": 900,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/deploy_pipeline.sh"
    },
    {
      "id": "soma_snapshot_home",
      "label": "Snapshot Home Library",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi_sync.snapshot --product \"Home User Library\""
    },
    {
      "id": "soma_snapshot_practitioner",
      "label": "Snapshot Practitioner Library",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi_sync.snapshot --product \"Practitioner Library\""
    },
    {
      "id": "soma_harvest",
      "label": "Harvest Gmail Videos",
      "timeout_sec": 180,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi_sync.harvest"
    },
    {
      "id": "soma_mirror",
      "label": "Mirror Home \u2192 Practitioner",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi_sync.mirror --dry-run"
    },
    {
      "id": "soma_status",
      "label": "Soma Status",
      "timeout_sec": 15,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi_sync.sms status"
    },
    {
      "id": "soma_kajabi_phase0",
      "label": "Soma Kajabi Phase 0",
      "timeout_sec": 300,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.phase0_runner"
    },
    {
      "id": "soma_kajabi_snapshot_debug",
      "label": "Kajabi Snapshot Debug",
      "project_id": "soma_kajabi",
      "timeout_sec": 180,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/with_exit_node.sh -- ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.snapshot_debug_runner"
    },
    {
      "id": "soma_kajabi_discover",
      "label": "Kajabi Discover (Soma)",
      "project_id": "soma_kajabi",
      "timeout_sec": 180,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/with_exit_node.sh -- ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/kajabi_discover.py"
    },
    {
      "id": "soma_kajabi_capture_interactive",
      "label": "Kajabi Interactive Capture (Cloudflare Unblock)",
      "project_id": "soma_kajabi",
      "timeout_sec": 1320,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/kajabi_capture_interactive.py"
    },
    {
      "id": "soma_kajabi_reauth_and_resume",
      "label": "Reauth and Resume (Cloudflare → Auto-Finish)",
      "project_id": "soma_kajabi",
      "timeout_sec": 1800,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/soma_kajabi_reauth_and_resume.py"
    },
    {
      "id": "soma_kajabi_session_warm_enable",
      "label": "Enable Session Warm (every 6h)",
      "project_id": "soma_kajabi",
      "timeout_sec": 10,
      "cmd_template": "sudo mkdir -p /etc/ai-ops-runner/config && sudo touch /etc/ai-ops-runner/config/soma_kajabi_session_warm_enabled.txt && echo '{\"ok\":true,\"enabled\":true}'"
    },
    {
      "id": "soma_kajabi_session_warm_disable",
      "label": "Disable Session Warm",
      "project_id": "soma_kajabi",
      "timeout_sec": 10,
      "cmd_template": "sudo rm -f /etc/ai-ops-runner/config/soma_kajabi_session_warm_enabled.txt && echo '{\"ok\":true,\"enabled\":false}'"
    },
    {
      "id": "soma_kajabi_session_warm_status",
      "label": "Session Warm Status",
      "project_id": "soma_kajabi",
      "timeout_sec": 10,
      "cmd_template": "test -f /etc/ai-ops-runner/config/soma_kajabi_session_warm_enabled.txt && echo '{\"result_summary\":{\"enabled\":true}}' || echo '{\"result_summary\":{\"enabled\":false}}'"
    },
    {
      "id": "soma_kajabi_unblock_and_run",
      "label": "Soma Unblock and Run (Discover\u2192Snapshot\u2192Phase0\u2192Finish)",
      "project_id": "soma_kajabi",
      "timeout_sec": 900,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/with_exit_node.sh -- ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/soma_kajabi_unblock_and_run.py"
    },
    {
      "id": "soma_zane_finish_plan",
      "label": "Zane Finish Plan",
      "project_id": "soma_kajabi",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.zane_finish_plan"
    },
    {
      "id": "soma_kajabi_auto_finish",
      "label": "Auto-Finish Soma (Phase0 → Finish Plan)",
      "project_id": "soma_kajabi",
      "timeout_sec": 1800,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/soma_kajabi_auto_finish.py"
    },
    {
      "id": "soma_run_to_done",
      "label": "Run Soma to DONE",
      "project_id": "soma_kajabi",
      "timeout_sec": 2100,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/soma_run_to_done.py"
    },
    {
      "id": "soma_kajabi_session_check",
      "label": "Session Check",
      "project_id": "soma_kajabi",
      "timeout_sec": 600,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/with_exit_node.sh -- ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/soma_kajabi_session_check.py"
    },
    {
      "id": "openclaw_novnc_restart",
      "label": "Restart noVNC",
      "project_id": "soma_kajabi",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && bash ./ops/scripts/novnc_restart.sh"
    },
    {
      "id": "openclaw_novnc_doctor",
      "label": "noVNC Doctor",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/openclaw_novnc_doctor.sh"
    },
    {
      "id": "openclaw_novnc_shm_fix",
      "label": "noVNC shm Fix",
      "timeout_sec": 360,
      "cmd_template": "cd ${ROOT_DIR} && bash ./ops/scripts/novnc_shm_fix.sh"
    },
    {
      "id": "openclaw_novnc_routing_fix",
      "label": "Fix noVNC Routing",
      "timeout_sec": 180,
      "cmd_template": "cd ${ROOT_DIR} && bash ./ops/scripts/openclaw_novnc_routing_fix.sh"
    },
    {
      "id": "soma_novnc_oneclick_recovery",
      "label": "One-click Recovery: Fix noVNC + Re-run Soma",
      "project_id": "soma_kajabi",
      "timeout_sec": 600,
      "cmd_template": "cd ${ROOT_DIR} && python3 ./ops/scripts/soma_novnc_oneclick_recovery.py"
    },
    {
      "id": "soma_fix_and_retry",
      "label": "Fix and Retry Soma",
      "project_id": "soma_kajabi",
      "timeout_sec": 2400,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python ./ops/scripts/soma_fix_and_retry.py"
    },
    {
      "id": "soma_connectors_status",
      "label": "Connectors Status",
      "project_id": "soma_kajabi",
      "timeout_sec": 15,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.connectors_status"
    },
    {
      "id": "soma_kajabi_bootstrap_start",
      "label": "Kajabi Bootstrap Start",
      "project_id": "soma_kajabi",
      "timeout_sec": 30,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.bootstrap kajabi start"
    },
    {
      "id": "soma_kajabi_bootstrap_status",
      "label": "Kajabi Bootstrap Status",
      "project_id": "soma_kajabi",
      "timeout_sec": 10,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.bootstrap kajabi status"
    },
    {
      "id": "soma_kajabi_bootstrap_finalize",
      "label": "Kajabi Bootstrap Finalize",
      "project_id": "soma_kajabi",
      "timeout_sec": 30,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.bootstrap kajabi finalize"
    },
    {
      "id": "soma_kajabi_gmail_connect_start",
      "label": "Gmail Connect Start",
      "project_id": "soma_kajabi",
      "timeout_sec": 30,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.gmail_connect start"
    },
    {
      "id": "soma_kajabi_gmail_connect_status",
      "label": "Gmail Connect Status",
      "project_id": "soma_kajabi",
      "timeout_sec": 10,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.gmail_connect status"
    },
    {
      "id": "soma_kajabi_gmail_connect_finalize",
      "label": "Gmail Connect Finalize",
      "project_id": "soma_kajabi",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && ${ROOT_DIR}/.venv-hostd/bin/python -m services.soma_kajabi.gmail_connect finalize"
    },
    {
      "id": "soma_last_errors",
      "label": "Soma Last Errors",
      "timeout_sec": 10,
      "cmd_template": "cd ${ROOT_DIR} && python3 -c \"from services.soma_kajabi_sync.sms import get_last_errors; errs=get_last_errors(5); print(chr(10).join(f\\\"{e['timestamp'][:16]}: {e['message']}\\\" for e in errs) if errs else 'No recent errors.')\""
    },
    {
      "id": "sms_status",
      "label": "SMS Status",
      "timeout_sec": 15,
      "cmd_template": "cd ${ROOT_DIR} && python3 -m services.soma_kajabi_sync.sms test"
    },
    {
      "id": "artifacts",
      "label": "List Artifacts",
      "timeout_sec": 10,
      "cmd_template": "ls -1dt ${ROOT_DIR}/artifacts/* 2>/dev/null | head -n 15 && echo '---' && du -sh ${ROOT_DIR}/artifacts/* 2>/dev/null | sort -h | tail -n 15"
    },
    {
      "id": "orb.backtest.bulk",
      "label": "ORB Tier-1 Bulk Backtest",
      "timeout_sec": 600,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/scripts/orb_backtest_bulk.sh"
    },
    {
      "id": "orb.backtest.confirm_nt8",
      "label": "ORB Tier-2 Confirm NT8",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/scripts/orb_backtest_confirm_nt8.sh"
    },
    {
      "id": "pred_markets.mirror.run",
      "label": "Run Mirror (Phase 0)",
      "timeout_sec": 300,
      "cmd_template": "cd ${ROOT_DIR} && python3 -m services.pred_markets.run mirror_run"
    },
    {
      "id": "pred_markets.mirror.backfill",
      "label": "Run Mirror Backfill",
      "timeout_sec": 600,
      "cmd_template": "cd ${ROOT_DIR} && python3 -m services.pred_markets.run mirror_backfill"
    },
    {
      "id": "pred_markets.report.health",
      "label": "Run Health Report",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && python3 -m services.pred_markets.run report_health"
    },
    {
      "id": "pred_markets.report.daily",
      "label": "Run Daily Report",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && python3 -m services.pred_markets.run report_daily"
    },
    {
      "id": "autopilot_status",
      "label": "Autopilot Status",
      "timeout_sec": 10,
      "cmd_template": "cat /var/lib/ai-ops-runner/autopilot/last_run.json 2>/dev/null || echo '{\"installed\":false}'"
    },
    {
      "id": "autopilot_enable",
      "label": "Enable Autopilot",
      "timeout_sec": 10,
      "cmd_template": "mkdir -p /var/lib/ai-ops-runner/autopilot && touch /var/lib/ai-ops-runner/autopilot/enabled && echo '{\"ok\":true,\"enabled\":true}'"
    },
    {
      "id": "autopilot_disable",
      "label": "Disable Autopilot",
      "timeout_sec": 10,
      "cmd_template": "rm -f /var/lib/ai-ops-runner/autopilot/enabled && echo '{\"ok\":true,\"enabled\":false}'"
    },
    {
      "id": "autopilot_run_now",
      "label": "Autopilot Run Now",
      "timeout_sec": 900,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/autopilot_tick.sh"
    },
    {
      "id": "autopilot_install",
      "label": "Install Autopilot Timer",
      "timeout_sec": 30,
      "cmd_template": "cd ${ROOT_DIR} && sudo ./ops/openclaw_install_autopilot.sh"
    },
    {
      "id": "llm.microgpt.canary",
      "label": "MicroGPT Offline Canary",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/scripts/microgpt_canary_submit.sh"
    },
    {
      "id": "openclaw_hq_audit",
      "label": "Run HQ Audit",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/openclaw_hq_audit.sh"
    },
    {
      "id": "system.state_pack",
      "label": "State Pack",
      "timeout_sec": 60,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/scripts/state_pack.sh"
    },
    {
      "id": "system.reconcile",
      "label": "Reconcile (Desired State)",
      "timeout_sec": 600,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/scripts/reconcile.sh"
    },
    {
      "id": "playbook.reconcile_frontdoor_serve",
      "label": "Playbook: Reconcile Frontdoor Serve",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/playbooks/reconcile_frontdoor_serve.sh"
    },
    {
      "id": "playbook.recover_novnc_ws",
      "label": "Playbook: Recover noVNC WebSocket",
      "timeout_sec": 300,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/playbooks/recover_novnc_ws.sh"
    },
    {
      "id": "playbook.recover_hq_routing",
      "label": "Playbook: Recover HQ Routing",
      "timeout_sec": 120,
      "cmd_template": "cd ${ROOT_DIR} && ./ops/playbooks/recover_hq_routing.sh"
    }
  ]
}